From 6a53755c24351cfc9b4e62310ba69228b59ea604 Mon Sep 17 00:00:00 2001
From: Veeti Paananen <veeti.paananen@rojekti.fi>
Date: Tue, 9 Jun 2015 12:44:59 +0300
Subject: [PATCH 229/230] Disable PIN entry after successful quick unlock

Small polish: I still often press the enter button out of muscle memory
when entering my PIN code, which leads to an "invalid PIN" message being
shown for a tiny moment as the screen unlocks. Disable the entry view
after a quick unlock to fix this.

Change-Id: Icceb8311ed55564e9b1d92934cbca814a1cc4b29
Signed-off-by: Pranav Vashi <neobuddy89@gmail.com>
---
 packages/SystemUI/src/com/android/keyguard/KeyguardPINView.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/packages/SystemUI/src/com/android/keyguard/KeyguardPINView.java b/packages/SystemUI/src/com/android/keyguard/KeyguardPINView.java
index e684ceb0b53..55822eb0af8 100644
--- a/packages/SystemUI/src/com/android/keyguard/KeyguardPINView.java
+++ b/packages/SystemUI/src/com/android/keyguard/KeyguardPINView.java
@@ -252,6 +252,7 @@ public class KeyguardPINView extends KeyguardPinBasedInputView {
         if (password != null) {
             if (password.length() > MINIMUM_PASSWORD_LENGTH_BEFORE_REPORT
                     && kpvCheckPassword(password)) {
+                mPasswordEntry.setEnabled(false);
                 mCallback.reportUnlockAttempt(userId, true, 0);
                 mCallback.dismiss(true, userId);
                 resetPasswordText(true, true);
-- 
2.25.1


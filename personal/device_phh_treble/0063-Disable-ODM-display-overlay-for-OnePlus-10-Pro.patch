From f14d7dcd4c685dcac7b657f5e2ddc4ae97e9553a Mon Sep 17 00:00:00 2001
From: Andy CrossGate Yan <GeForce8800Ultra@gmail.com>
Date: Sun, 30 Jan 2022 15:37:31 +0000
Subject: [PATCH 63/80] Disable ODM display overlay for OnePlus 10 Pro

To whoever wrote these at OPlus - WTF?

Change-Id: Icd38941e86bf1e8ff743342507b5926708590ccf
---
 rw-system.sh | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/rw-system.sh b/rw-system.sh
index 6cf5f52..114362e 100644
--- a/rw-system.sh
+++ b/rw-system.sh
@@ -454,7 +454,7 @@ if getprop ro.build.overlay.deviceid |grep -q -e CPH1859 -e CPH1861 -e RMX1811 -
 fi
 
 if getprop ro.build.overlay.deviceid |grep -iq -e RMX2020 -e RMX2027 -e RMX2040 \
-    -e RMX2193 -e RMX2191 -e RMX2195; then	
+    -e RMX2193 -e RMX2191 -e RMX2195; then
     setprop persist.sys.qcom-brightness 2047
     setprop persist.sys.overlay.devinputjack true
     setprop persist.sys.phh.fingerprint.nocleanup true
@@ -991,7 +991,7 @@ if getprop ro.build.overlay.deviceid |grep -qiE -e '^RMX' -e '^CPH';then
     setprop persist.sys.phh.fod.bbk true
 fi
 
-if getprop ro.build.overlay.deviceid |grep -iq -e RMX1941 -e RMX1945 -e RMX1943 -e RMX1942;then	
+if getprop ro.build.overlay.deviceid |grep -iq -e RMX1941 -e RMX1945 -e RMX1943 -e RMX1942;then
     setprop persist.sys.qcom-brightness "$(cat /sys/class/leds/lcd-backlight/max_brightness)"
     setprop persist.sys.phh.mainkeys 0
 fi
@@ -1053,9 +1053,9 @@ fi
 # Disable secondary watchdogs
 echo -n V > /dev/watchdog1
 
-# Disable ODM display overlay for Realme GT ME, which is annoyingly hard to override
-if getprop ro.boot.prjname |grep -qi 21615;then
-    mount -o bind /system/phh/empty /odm/overlay/android_framework_res_overlay.display.product.21615.apk
+# Disable ODM display overlay for some OPlus devices, which is annoyingly hard to override
+if getprop ro.boot.prjname |grep -qi -e 20846 -e 20847 -e 2084A -e 21615;then
+    mount -o bind /system/phh/empty /odm/overlay/android_framework_res_overlay.display.product.*.apk
 fi
 
 if [ "$(stat -c '%U'  /dev/nxp_smartpa_dev)" == "root" ] &&
-- 
2.25.1

